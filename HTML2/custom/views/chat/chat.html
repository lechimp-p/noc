<div class="chatintro">
    <h2>{{channel.name}}<h2>
</div>

<!-- EINGABEFELD -->

<!-- CHANNEL-BEITRÃ„GE -->
<div class="chatlistwrapper bgcolor">
<div class="postmessage pullbottom">
    <div class="inputgroup">
        <textarea id="postmessage" class="roundcornersleft" rows="1" placeholder="Was m&ouml;chtest du schreiben?" ng-model="message"></textarea>
        <button class="sendbutton" ng-click="post()"><i class="icon ion-ios7-paperplane roundcornersright"></i></button>
    </div>
</div>
<ul class="chatlist">
    <!-- ENTRY BEGIN -->
    <li class="chatentry"  ng-repeat="msg in msgs" >
        <div class="chatimage floatleft"><img src="{{msg.author.icon | icon}}" alt "icon of {{msg.author.name}}" class="circular"></div>
        <div class="chatcontent floatleft">
            <p>
                <strong>{{msg.author | username}}</strong>
                <span class="greyed small">{{msg.timestamp | rel_timestamp}}</span><br />
                {{msg.text}}
            </p>
        </div>
        <div class="clear"></div>
    </li>
    <!-- ENTRY / -->
</ul>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

<script>

//TEXTAREA-RESIZE

$(function() {
    var txt = $('#postmessage'),
        //hiddenDiv = $(document.createElement('div')),
        hiddenDiv = $('.hiddendiv');
        content = null;
    txt.on('keyup', function () {
        content = $(this).val();
        content = content.replace(/\n/g, '');
        if (content.length === 0) {
        	content = "placeholder";
        }
        hiddenDiv.html(content + '');
        $(this).css('height', hiddenDiv.height());
    });
});

// STICKY

function sticky_relocate() {
  var window_top = $(window).scrollTop()+44;
  var div_top = $('#sticky-anchor').offset().top;
  if (window_top > div_top) {
    $('.sticky').addClass('stick');
    $('.placeholder').css('display','block');
  } else {
    $('.sticky').removeClass('stick');
    $('.placeholder').css('display','none');
  }
}

$(function() {
  $(window).scroll(sticky_relocate);
  sticky_relocate();
});
</script>
